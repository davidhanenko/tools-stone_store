{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { PrevButton, NextButton } from '../SliderButtons';\nimport { useEmblaCarousel } from 'embla-carousel/react';\nimport ItemsSliderStyles from './ItemsSliderStyles';\nimport ItemsSlide from './ItemsSlide';\nimport useWindowDimensions from '../../../../lib/windowDimensions';\n\nconst ItemsSlider = ({\n  slides,\n  itemsByIndex\n}) => {\n  const [viewportRef, embla] = useEmblaCarousel({\n    slidesToScroll: 1,\n    containScroll: 'keepSnap',\n    skipSnaps: false,\n    align: 0,\n    loop: true\n  });\n  const {\n    width\n  } = useWindowDimensions();\n  const {\n    0: prevBtnEnabled,\n    1: setPrevBtnEnabled\n  } = useState(false);\n  const {\n    0: nextBtnEnabled,\n    1: setNextBtnEnabled\n  } = useState(false); // const [emblaRef, emblaApi] = useEmblaCarousel();\n\n  const scrollPrev = useCallback(() => embla && embla.scrollPrev(), [embla]);\n  const scrollNext = useCallback(() => embla && embla.scrollNext(), [embla]);\n  const onSelect = useCallback(() => {\n    if (!embla) return;\n    setPrevBtnEnabled(embla.canScrollPrev());\n    setNextBtnEnabled(embla.canScrollNext());\n  }, [embla]);\n  useEffect(() => {\n    if (!embla) return;\n    embla.on('select', onSelect);\n    onSelect();\n  }, [embla, onSelect]);\n  useEffect(() => {\n    if (width <= 850) {\n      setPrevBtnEnabled(true);\n      setNextBtnEnabled(true);\n    }\n  }, [width]); // useEffect(() => {\n  //   if (emblaApi && emblaApi.slideNodes().length !== slides.length) {\n  //     emblaApi.reInit();\n  //   }\n  // }, [emblaApi, slides]);\n\n  return /*#__PURE__*/_jsxs(ItemsSliderStyles, {\n    className: \"embla\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"embla__viewport\",\n      ref: viewportRef,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"embla__container\",\n        children: slides.map(index => /*#__PURE__*/_jsx(\"div\", {\n          className: \"embla__slide\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"embla__slide__inner\",\n            children: /*#__PURE__*/_jsx(ItemsSlide, {\n              itemsByIndex: itemsByIndex,\n              index: index\n            })\n          })\n        }, index))\n      })\n    }), /*#__PURE__*/_jsx(PrevButton, {\n      onClick: scrollPrev,\n      enabled: prevBtnEnabled\n    }), /*#__PURE__*/_jsx(NextButton, {\n      onClick: scrollNext,\n      enabled: nextBtnEnabled\n    })]\n  });\n};\n\nexport default ItemsSlider;","map":null,"metadata":{},"sourceType":"module"}