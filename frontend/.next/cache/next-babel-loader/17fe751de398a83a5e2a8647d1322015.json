{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useEmblaCarousel } from 'embla-carousel/react';\nimport Image from 'next/image';\nimport { PrevButton, NextButton } from './CarouselButtons';\nimport { useRecursiveTimeout } from '../../lib/useRecursiveTimeout';\nimport CarouselStyles from './CarouselStyles';\nimport Slide from './Slide';\nconst AUTOPLAY_INTERVAL = 5000;\n\nconst EmblaCarousel = ({\n  slides,\n  mediaByIndex\n}) => {\n  const [viewportRef, embla] = useEmblaCarousel({\n    loop: true,\n    skipSnaps: false\n  });\n  const {\n    0: prevBtnEnabled,\n    1: setPrevBtnEnabled\n  } = useState(false);\n  const {\n    0: nextBtnEnabled,\n    1: setNextBtnEnabled\n  } = useState(false);\n  const autoplay = useCallback(() => {\n    if (!embla) return;\n\n    if (embla.canScrollNext()) {\n      embla.scrollNext();\n    } else {\n      embla.scrollTo(0);\n    }\n  }, [embla]);\n  const {\n    play,\n    stop\n  } = useRecursiveTimeout(autoplay, AUTOPLAY_INTERVAL);\n  const scrollNext = useCallback(() => {\n    if (!embla) return;\n    embla.scrollNext();\n    stop();\n  }, [embla, stop]);\n  const scrollPrev = useCallback(() => {\n    if (!embla) return;\n    embla.scrollPrev();\n    stop();\n  }, [embla, stop]);\n  const onSelect = useCallback(() => {\n    if (!embla) return;\n    setPrevBtnEnabled(embla.canScrollPrev());\n    setNextBtnEnabled(embla.canScrollNext());\n  }, [embla]);\n  useEffect(() => {\n    if (!embla) return;\n    onSelect();\n    embla.on('select', onSelect);\n    embla.on('pointerDown', stop);\n  }, [embla, onSelect, stop]);\n  useEffect(() => {\n    play();\n  }, [play]);\n  return /*#__PURE__*/_jsxs(CarouselStyles, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"embla__viewport\",\n      ref: viewportRef,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"embla__container\",\n        children: slides.map(index => /*#__PURE__*/_jsx(\"div\", {\n          className: \"embla__slide\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"embla__slide__inner\",\n            children: /*#__PURE__*/_jsx(Slide, {\n              mediaByIndex: mediaByIndex,\n              index: index\n            })\n          })\n        }, index))\n      })\n    }), /*#__PURE__*/_jsx(PrevButton, {\n      onClick: scrollPrev,\n      enabled: prevBtnEnabled\n    }), /*#__PURE__*/_jsx(NextButton, {\n      onClick: scrollNext,\n      enabled: nextBtnEnabled\n    })]\n  });\n};\n\nexport default EmblaCarousel;","map":null,"metadata":{},"sourceType":"module"}